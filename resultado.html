<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Resultado - QuickIQ</title>

<style>
body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
background:#0f0f17;
color:white;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
}

.card{
width:95%;
max-width:500px;
background:rgba(255,255,255,0.05);
border-radius:24px;
padding:25px;
box-shadow:0 30px 80px rgba(0,0,0,0.8);
text-align:center;
}

button{
margin-top:20px;
padding:14px;
width:100%;
border:none;
border-radius:14px;
font-weight:600;
cursor:pointer;
background:linear-gradient(135deg,#6366f1,#a855f7);
color:white;
transition:.2s;
}

button:hover{
transform:scale(1.02);
}

h1{
margin:10px 0;
font-size:42px;
}
p{
margin-top:15px;
line-height:1.5;
opacity:.85;
}
.small{
opacity:.6;
font-size:14px;
margin-top:20px;
}
</style>
</head>

<body>

<div class="card" id="content"></div>

<script>
// Ler parâmetro ?paid=true
const urlParams = new URLSearchParams(window.location.search);
const paid = urlParams.get("paid");
const score = parseInt(localStorage.getItem("score")) || 0;

// Função que gera perfil detalhado
function generateProfile(score){

let iq = 85 + (score * 2.5);
let description = "";

if(iq < 95){
description = "Seu desempenho indica capacidade cognitiva funcional dentro da média baixa. Você tende a resolver problemas concretos com maior facilidade do que desafios abstratos complexos. Pode se beneficiar de métodos estruturados e prática contínua em raciocínio lógico.";
}
else if(iq < 110){
description = "Seu perfil demonstra raciocínio consistente e boa capacidade de análise lógica. Você apresenta desempenho sólido em padrões, resolução estruturada de problemas e compreensão de informações verbais e numéricas.";
}
else if(iq < 125){
description = "Seu resultado revela forte habilidade analítica, pensamento estruturado e excelente detecção de padrões. Indica potencial elevado para resolução estratégica, abstração e flexibilidade cognitiva em múltiplos contextos.";
}
else{
description = "Seu perfil cognitivo indica capacidade intelectual superior. Você demonstra alta velocidade de processamento, excelente raciocínio lógico, forte habilidade em padrões complexos e grande aptidão para tarefas que exigem análise crítica e solução de problemas inovadora.";
}

return {iq: Math.round(iq), description};
}

const contentDiv = document.getElementById("content");

if(paid === "true"){

const profile = generateProfile(score);

contentDiv.innerHTML = `
<h2>Seu Resultado Está Pronto</h2>
<h1>QI ${profile.iq}</h1>
<p>${profile.description}</p>
<p class="small">Pontuação bruta: ${score}/30</p>
`;

}else{

contentDiv.innerHTML = `
<h2>Seu resultado está pronto</h2>
<p>Seu desempenho foi analisado com base em padrões psicométricos globais.</p>
<button onclick="startPayment()">Desbloquear Resultado por $0.99</button>
`;

}

function startPayment(){
window.location.href="https://buy.stripe.com/test_eVq28k4ZS6oxb8Rfjs18c00";
}
</script>

</body>
</html>
